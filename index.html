<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>AuthMe</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch.js"></script>
  </head>

  <body class="index" data-languages="[&quot;Android&quot;,&quot;Java&quot;,&quot;PHP&quot;,&quot;Python&quot;,&quot;JS&quot;,&quot;Go&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="Android">Android</a>
              <a href="#" data-language-name="Java">Java</a>
              <a href="#" data-language-name="PHP">PHP</a>
              <a href="#" data-language-name="Python">Python</a>
              <a href="#" data-language-name="JS">JS</a>
              <a href="#" data-language-name="Go">Go</a>
        </div>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Users keep same passwords everywhere. Despite you following security best practices, a data breach on an unrelated app can compromise your users.</p>

<p>AuthMe helps you do away with passwords. With AuthMe pattern lock, bring UX and security together.</p>

<h1 id="getting-started">Getting Started</h1>

<p>Before you start off, make sure that you have the API Key and Secret Key. If not, get them from <a href="https://account.authme.authme.host/generatekeys">here.</a></p>

<p>It can be found on the left panel of the dashboard.</p>

<p>API Key looks like this: <code class="prettyprint">k-162b77f3-5937-4856-af1b-7950a001f732</code> and can be exposed in public clients (Android, iOS, Windows apps)</p>

<p>Secret Key looks like this: <code class="prettyprint">s-001b77f3-5938-0056-af1b-7950a001f712</code> and should not be put in any public artifact.</p>

<p>Integration has 2 parts.</p>

<ol>
<li><p>Client Integration (Android/iOS/Window)</p></li>
<li><p>Server Integration (PHP/Java/Go/Python/Js)</p></li>
</ol>

<h1 id="android-integration">Android Integration</h1>

<h2 id="1-gradle-import">1. Gradle import</h2>

<p>Add the following line to your app build.gradle file</p>

<p><code class="prettyprint">compile &#39;io.authme:patternlock:0.1.1&#39;</code></p>

<p>Build your project.</p>

<h2 id="2-config">2. Config</h2>
<pre class="highlight plaintext"><code>    Config config = new Config(MainActivity.this);
    config.setEnvironment(Config.SANDBOX); 
    config.setAPIKey("YOUR_API_KEY_HERE"); 
    config.setEmailId("USER_EMAIL_ID");
</code></pre>
<p>Create a config object. </p>

<p>Set environment to <code class="prettyprint">Config.SANDBOX</code>, if you are testing. </p>

<p>Set it to <code class="prettyprint">Config.PRODUCTION</code> when you are ready.</p>

<aside class="notice">
Remember to replace API key with your API key before running the program.<br>
</aside>

<aside class="notice">
Ensure that the environment and keys are appropriate.
</aside>

<h2 id="3-call-authme">3. Call AuthMe</h2>
<pre class="highlight plaintext"><code>   Intent intent = new Intent(MainActivity.this, AuthScreen.class);
   startActivityForResult(intent, RESULT);
</code></pre>
<p>Call AuthScreen activity wherever you are signing up or signing in the user. </p>

<p>If the use has set the patter already, AuthMe will offer a trust score to you in the callback. </p>

<p>If not, AuthMe will help the user set the pattern. </p>

<h2 id="4-callback">4. Callback</h2>
<pre class="highlight plaintext"><code>@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
  switch (requestCode) {
    case RESULT : {
        switch (resultCode) {
            case Config.SIGNUP_PATTERN : {
                Toast.makeText(getApplicationContext(), "Sign up successfull", Toast.LENGTH_LONG)
                        .show();
                 } break;

            case Config.LOGIN_PATTERN : {
                Toast.makeText(getApplicationContext(), data.getStringExtra("response"), Toast.LENGTH_LONG)
                        .show(); //you will get a trust score in the response here.
                } break;

            case Config.RESET_PATTERN: {
                Toast.makeText(getApplicationContext(), "Reset Pattern", Toast.LENGTH_LONG)
                        .show();
                } break;            

            case Config.RESULT_FAILED : {
                Toast.makeText(getApplicationContext(), "Failed To Identify", Toast.LENGTH_LONG)
                        .show();
                if (data.hasExtra("response")) {
                            Toast.makeText(getApplicationContext(), data.getStringExtra("response"), Toast.LENGTH_LONG)
                                    .show();
                        }
                } break;

                default: break;
                }

            } break;

            default: break;

      }
    }
</code></pre>
<p>You will get the callback in onActivityResult. </p>

<h3 id="a-sign-up-successfull">a. Sign up successfull</h3>

<p>In case the user didn&rsquo;t have a pattern set earlier, we sign up the user. </p>

<p>Check for case Config.SIGNUP_PATTERN in onActivityResult.</p>

<h3 id="b-login-trust-score">b. Login Trust Score</h3>

<p>In case the user swiped to login, we calculate the trust score and give it back to you.</p>

<p>Check for case Config.LOGIN_PATTERN in onActivityResult.</p>

<h3 id="c-reset-pattern">c. Reset Pattern</h3>

<p>In case the user already exists on the platform, but forgot the pattern, we redirect you to reset the pattern.</p>

<p>Check for case Config.RESET_PATTERN in onActivityResult.</p>

<h3 id="d-failed-to-identify">d. Failed to Identify</h3>

<p>In case the user failed to identify with AuthMe.</p>

<p>Check for case Config.RESULT_FAILED in onActivityResult.</p>

<p>The code snippet on the right side shows how to handle these cases.</p>

<h2 id="5-trust-score">5. Trust Score</h2>
<pre class="highlight plaintext"><code>{
"Accept":true,
"Id":0,
"Reason":"",
"hash":"0352044c22fac6455b46de681701a733f86bca1f8477bf015d3ebd9817e2b9dc",
"motion":0.9333333333333333,
"path":0.9,
"speed":0.95
}
</code></pre>
<p>In case the user tried to login, we send the trust score which looks as follows:</p>

<h3 id="whats-a-trust-score">What&rsquo;s a trust score?</h3>

<p>Trust score is the indication of how much the user matches to his behavioural profile.</p>

<p>Path score 0.9 means that user matches 90% to his signature behaviour.</p>

<p>Speed score 0.95 means that user matches 95% to his velocity behaviour.</p>

<p>Motion sensor 0.93 means that user matches 93% to his movements behaviour.</p>

<h3 id="whats-hash-why-is-it-so-important">What&rsquo;s hash? Why is it so important?</h3>

<p>You are expected to process the trust score on the server and implement the business logic on the server. </p>

<p>When you get a trust score in the LOGIN_PATTERN case above, post this on your server and calculate the hash to verify if the trust score is not tampered with.</p>

<aside class="warning">
If you bypass the logic of hash calculation, you are vulnarable to a security loophole.
</aside>

<p>In the server integration, we will demonstrate how hash is calculated.</p>

<h1 id="server-integration">Server Integration</h1>

<p>Here&rsquo;s the logici to calculate hash. </p>

<p>Modules on the right side, should help you do this quickly.</p>

<aside class="notice">
Remember to replace secret key with your secret key before deploying.
</aside>

<h1 id="add-ons">Add Ons</h1>

<h2 id="how-do-i-put-my-logo-on-the-authme-screen">How do I put my logo on the AuthMe Screen?</h2>
<pre class="highlight plaintext"><code>String fileName = "mylogo";
Bitmap bitmap = BitmapFactory.decodeResource(MainActivity.this.getResources(), R.drawable.nestaway_bird_logo);
        try {
            ByteArrayOutputStream bytes = new ByteArrayOutputStream();
            bitmap.compress(Bitmap.CompressFormat.JPEG, 100, bytes);
            FileOutputStream fo = openFileOutput(fileName, Context.MODE_PRIVATE); // MODE_PRIAVE so that no one else can access this file
            fo.write(bytes.toByteArray());
            fo.close();
        } catch (Exception e) {
            e.printStackTrace();
            fileName = null;
        }
        intent.putExtra("logo", fileName);
        startActivityForResult(intent, RESULT);
</code></pre>
<p>a. Upload your logo in the drawable section of your app.</p>

<p>b. Create a bitmap of your logo and load it into a file accessible only to your app.</p>

<p>c. Add the filename in the intent before calling <code class="prettyprint">startActivityForResult(intent, RESULT)</code></p>

<h2 id="how-do-i-change-the-color-of-statusbar">How do I change the color of statusbar?</h2>
<pre class="highlight plaintext"><code>intent.putExtra("statusbar", "#443FFF");
startActivityForResult(intent, RESULT);
</code></pre>
<p>Add the intent extra &lsquo;statusbar&rsquo; before calling <code class="prettyprint">startActivityForResult(intent, RESULT)</code></p>

<h2 id="how-do-i-change-the-color-of-titlebar">How do I change the color of titlebar?</h2>
<pre class="highlight plaintext"><code>intent.putExtra("titlebar", "#443FFF");
startActivityForResult(intent, RESULT);
</code></pre>
<p>Add the intent extra &lsquo;titlebar&rsquo; before calling <code class="prettyprint">startActivityForResult(intent, RESULT)</code></p>

<h2 id="how-do-i-change-the-titlebar-text">How do I change the titlebar text?</h2>
<pre class="highlight plaintext"><code>intent.putExtra("titletext", "Authentication Screen");
startActivityForResult(intent, RESULT);
</code></pre>
<p>Add the intent extra &lsquo;titletext&rsquo; before calling <code class="prettyprint">startActivityForResult(intent, RESULT)</code></p>

          <h1 id="errors">Errors</h1>

<aside class="notice">This error section is stored in a separate file in `includes/_errors.md`. Slate allows you to optionally separate out your docs into many files&hellip;just save them to the `includes` folder and add them to the top of your `index.md`&lsquo;s frontmatter. Files are included in the order listed.</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request sucks</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The kitten requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified kitten could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a kitten with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The kitten requested has been removed from our servers</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a teapot</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="Android">Android</a>
                <a href="#" data-language-name="Java">Java</a>
                <a href="#" data-language-name="PHP">PHP</a>
                <a href="#" data-language-name="Python">Python</a>
                <a href="#" data-language-name="JS">JS</a>
                <a href="#" data-language-name="Go">Go</a>
          </div>
      </div>
    </div>
  </body>
</html>
